(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Course"],{"11bf":function(e,t,a){"use strict";var r=a("54ae"),i=a.n(r);i.a},"2f25":function(e,t,a){"use strict";var r=a("9d94"),i=a("8088"),s={create:function(e){return r["a"].post(i["a"].course,e)},list:function(e){return r["a"].get(i["a"].course,e)},delete:function(e){return r["a"].delete(i["a"].courseItem(e))},update:function(e,t){return r["a"].put(i["a"].courseItem(e),t)},show:function(e){return r["a"].get(i["a"].courseItem(e))}};t["a"]=s},3172:function(e,t,a){},4081:function(e,t,a){"use strict";var r=a("3172"),i=a.n(r);i.a},"54ae":function(e,t,a){},"9f72":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("v-breadcrumb"),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-content"},[a("div",{staticClass:"mb-20"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleLinkcourseCreate}},[e._v("添加课程")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEditCourse(t.row)}}},[e._v("编辑")]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDeleteCourse(t.row,t.$index)}}},[e._v("删除")])]}}])})],1)],1)],1)},i=[],s=(a("7f7f"),a("a14e")),o=a("2f25"),n={data:function(){return{loading:!0,tableData:[]}},created:function(){var e=this;o["a"].list().then(function(t){var a=t;e.tableData=a}).finally(function(){e.loading=!1})},methods:{handleLinkcourseCreate:function(){this.$router.push({name:"CourseCreate"})},handleEditCourse:function(e){var t=e.id;this.$router.push({name:"CourseEdit",params:{id:t}})},handleDeleteCourse:function(e,t){var a=this,r=e.name,i=e.id;this.$confirm("此操作将永久删除该".concat(r,"课程, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o["a"].delete(i).then(function(){a.$message.success("删除成功！"),a.tableData.splice(t,1)})})}},components:{"v-breadcrumb":s["a"]}},l=n,c=a("2877"),u=Object(c["a"])(l,r,i,!1,null,"62332b77",null);t["default"]=u.exports},df41:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("v-breadcrumb"),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-content"},[a("el-form",{ref:"userForm",attrs:{model:e.formData,rules:e.rules,"label-position":"left","label-width":"160px"}},[a("h3",[e._v("课程信息")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{lg:10}},[a("el-card",{staticClass:"box-card"},[a("el-form-item",{staticStyle:{width:"460px"},attrs:{label:"课程名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入课程名称"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{staticStyle:{width:"600px"},attrs:{label:"课程图片",prop:"course_image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":e.beforeAvatarUpload,"http-request":e.courseImage}},[e.formData.course_image?a("img",{staticClass:"avatar",attrs:{src:e.formData.course_image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),a("el-col",{attrs:{lg:14}},[a("el-card",{staticClass:"box-card"},[a("el-form-item",{staticStyle:{width:"600px"},attrs:{label:"课程简介",prop:"description"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"quill-editor",attrs:{options:e.editorOption},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)],1)],1)],1),a("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary",disabled:e.disabled},on:{click:e.handleCreatecourse}},[e._v("添加")])],1)],1)],1)},i=[],s=(a("7f7f"),a("a14e")),o=a("2f25"),n=a("d85d"),l=(a("a753"),a("8096"),a("14e1"),a("953d")),c=(a("bc3a"),{name:"image_url",size:500,accept:"image/png, image/gif, image/jpeg",TOKEN_API:"https://www.jevescript.com/api/qiniu-uploadtoken",QINIU_API:"http://upload-z2.qiniup.com"}),u=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]],d={image:function(e){var t=this,a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept",c.accept),a.classList.add("ql-image"),a.addEventListener("change",function(){var e=a.files[0];c.size&&e.size>=1024*c.size?a.value="":n["a"].setDate(e).then(function(e){var a=t.quill.getSelection(!0).index;t.quill.insertEmbed(a,"image",e),t.quill.setSelection(a+1)})}),a.click()}},m={data:function(){return{disabled:!1,loading:!1,rules:{name:[{required:!0,message:"请输入课程名称",trigger:"blur"}],description:[{required:!0,message:"请输入课程描述",trigger:"blur"}],course_image:[{required:!0,message:"请选择课程图片",trigger:"blur"}]},formData:{name:"",description:"",course_image:""},editorOption:{modules:{toolbar:{container:u,handlers:d}}}}},methods:{handleCreatecourse:function(){var e=this;this.$refs.userForm.validate(function(t){if(t){var a={name:e.formData.name,description:e.formData.description,course_image:e.formData.course_image};e.disabled=!0,o["a"].create(a).then(function(){e.$message.success("创建成功"),e.$router.push({name:"Course"})}).finally(function(){e.disabled=!1})}})},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t},courseImage:function(e){var t=this,a=e.file;n["a"].setDate(a).then(function(e){t.formData.course_image=e})}},components:{"v-breadcrumb":s["a"],"quill-editor":l["quillEditor"]}},p=m,f=(a("11bf"),a("2877")),g=Object(f["a"])(p,r,i,!1,null,null,null);t["default"]=g.exports},e781:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("v-breadcrumb"),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-content"},[a("el-form",{ref:"userForm",attrs:{model:e.formData,rules:e.rules,"label-position":"left","label-width":"160px"}},[a("h3",[e._v("课程信息")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{lg:10}},[a("el-card",{staticClass:"box-card"},[a("el-form-item",{staticStyle:{width:"460px"},attrs:{label:"课程名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入课程名称"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{staticStyle:{width:"600px"},attrs:{label:"课程图片",prop:"course_image"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":e.beforeAvatarUpload,"http-request":e.courseImage}},[e.formData.course_image?a("img",{staticClass:"avatar",attrs:{src:e.formData.course_image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),a("el-col",{attrs:{lg:14}},[a("el-card",{staticClass:"box-card"},[a("el-form-item",{staticStyle:{width:"600px"},attrs:{label:"课程简介",prop:"description"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"quill-editor",attrs:{options:e.editorOption},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)],1)],1)],1),a("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary",disabled:e.disabled},on:{click:e.handleCreatecourse}},[e._v("编辑")])],1)],1)],1)},i=[],s=(a("7f7f"),a("a14e")),o=a("2f25"),n=a("d85d"),l=(a("a753"),a("8096"),a("14e1"),a("953d")),c=(a("bc3a"),{name:"image_url",size:500,accept:"image/png, image/gif, image/jpeg",TOKEN_API:"https://www.jevescript.com/api/qiniu-uploadtoken",QINIU_API:"http://upload-z2.qiniup.com"}),u=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]],d={image:function(e){var t=this,a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept",c.accept),a.classList.add("ql-image"),a.addEventListener("change",function(){var e=a.files[0];c.size&&e.size>=1024*c.size?a.value="":n["a"].setDate(e).then(function(e){var a=t.quill.getSelection(!0).index;t.quill.insertEmbed(a,"image",e),t.quill.setSelection(a+1)})}),a.click()}},m={data:function(){return{disabled:!1,loading:!1,rules:{name:[{required:!0,message:"请输入课程名称",trigger:"blur"}],description:[{required:!0,message:"请输入课程描述",trigger:"blur"}],course_image:[{required:!0,message:"请选择课程图片",trigger:"blur"}]},formData:{name:"",description:"",course_image:""},editorOption:{modules:{toolbar:{container:u,handlers:d}}}}},created:function(){var e=this,t=this.$route.params.id;o["a"].show(t).then(function(t){var a=t;e.formData=a})},methods:{handleCreatecourse:function(){var e=this;this.$refs.userForm.validate(function(t){if(t){var a={name:e.formData.name,description:e.formData.description,course_image:e.formData.course_image};e.disabled=!0;var r=e.$route.params.id;o["a"].update(r,a).then(function(){e.$message.success("编辑成功"),e.$router.push({name:"Course"})}).finally(function(){e.disabled=!1})}})},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t},courseImage:function(e){var t=this,a=e.file;n["a"].setDate(a).then(function(e){t.formData.course_image=e})}},components:{"v-breadcrumb":s["a"],"quill-editor":l["quillEditor"]}},p=m,f=(a("4081"),a("2877")),g=Object(f["a"])(p,r,i,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=Course.40c602f7.js.map